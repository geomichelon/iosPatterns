<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FactoryMethod Pattern</title>
  <link rel="stylesheet" href="../tutorial.css" />
</head>
<body>
  <header>
    <span class="tag">Design Pattern</span>
    <h1>FactoryMethod</h1>
    <p>Tambem conhecido como: Construtor Virtual</p>
    <div class="lang-switch">
      <span class="lang-pill">Português</span>
      <a href="tutorial.html" data-lang="en">English</a>
      <a href="../tutorials-pt.html" class="index-link">Voltar ao indice</a>
    </div>
  </header>
  <main class="tutorial">
    <section class="card toc">
      <h2>Conteudo</h2>
      <ul>
        <li><a href="#intent">Intencao</a></li>
        <li><a href="#problem">Problema</a></li>
        <li><a href="#solution">Solucao</a></li>
        <li><a href="#structure">Estrutura</a></li>
        <li><a href="#examples">Exemplos neste projeto</a></li>
        <li><a href="#applicability">Aplicabilidade</a></li>
        <li><a href="#solid">Cobertura de SOLID</a></li>
        <li><a href="#pros-cons">Pros e Contras</a></li>
        <li><a href="#diagram">Diagrama (texto)</a></li>
        <li><a href="#references">Referencias</a></li>
      </ul>
    </section>

    <div class="content">
<section id="intent" class="card">
      <h2>Intencao</h2>
      <p>Definir uma interface para criar objetos, mas permitir que subclasses decidam qual classe instanciar.</p>
    </section>

    <section id="problem" class="card">
      <h2>Problema</h2>
      <p>O codigo cliente precisa de variantes de um produto, mas nao deve depender de tipos concretos.</p>
    </section>

    <section id="solution" class="card">
      <h2>Solucao</h2>
      <p>Introduza um metodo de fabrica que retorna uma interface de produto. Fabricas concretas decidem a implementacao.</p>
    </section>

    <section id="structure" class="card">
      <h2>Estrutura</h2>
      <ul>
        <li>O protocolo `BadgeShape` define a interface do produto.</li>
<li>Produtos concretos implementam detalhes (circulo, quadrado).</li>
<li>Fabricas expõem `makeBadge()` e retornam `BadgeShape`.</li>
      </ul>
    </section>

    <section id="examples" class="card">
      <h2>Exemplos neste projeto</h2>
      <div class="grid">
        <div>
          <h3>Swift</h3>
          <p>Arquivo: <a class="file-link" href="https://github.com/geomichelon/iosPatterns/blob/main/Sources/PatternsIOS/Patterns/FactoryMethod/Swift/FactoryMethod.swift"><code>Sources/PatternsIOS/Patterns/FactoryMethod/Swift/FactoryMethod.swift</code></a></p>
        </div>
        <div>
          <h3>SwiftUI</h3>
          <p>Arquivo: <a class="file-link" href="https://github.com/geomichelon/iosPatterns/blob/main/Sources/PatternsIOS/Patterns/FactoryMethod/SwiftUI/FactoryMethodView.swift"><code>Sources/PatternsIOS/Patterns/FactoryMethod/SwiftUI/FactoryMethodView.swift</code></a></p>
        </div>
        <div>
          <h3>Teste unitario</h3>
          <p>Arquivo: <a class="file-link" href="https://github.com/geomichelon/iosPatterns/blob/main/Tests/PatternsIOSTests/Patterns/FactoryMethodTests.swift"><code>Tests/PatternsIOSTests/Patterns/FactoryMethodTests.swift</code></a></p>
        </div>
      </div>
      <h3>Como testar</h3>
      <p>Abra Factory Method no app para ver o badge criado pela fabrica.</p>
    </section>

    <section id="applicability" class="card">
      <h2>Aplicabilidade</h2>
      <ul>
        <li>Quando a criacao varia por configuracao ou ambiente.</li>
<li>Quando voce quer desacoplar construcao de uso.</li>
      </ul>
    </section>
    <section id="solid" class="card">
      <h2>Cobertura de SOLID</h2>
      <ul>
        <li><strong>OCP</strong>: novos produtos surgem via novas fabricas sem mudar o cliente.</li>
        <li><strong>DIP</strong>: clientes dependem das abstracoes <code>BadgeShape</code> / <code>BadgeFactory</code>.</li>
      </ul>
    </section>


    <section id="pros-cons" class="card">
      <h2>Pros e Contras</h2>
      <div class="grid">
        <div>
          <h3>Pros</h3>
          <ul>
            <li>Reduz acoplamento a classes concretas.</li>
<li>Logica de criacao centralizada nas fabricas.</li>
          </ul>
        </div>
        <div>
          <h3>Contras</h3>
          <ul>
            <li>Adiciona tipos extras (fabricas).</li>
<li>Sistemas pequenos podem nao precisar da indirecao.</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="diagram" class="card">
      <h2>Diagrama (texto)</h2>
      <pre>+---------+      +-----------------+
| Client  | ---> | BadgeFactory    |
+---------+      +-----------------+
                      | makeBadge()
                      v
                +-------------+
                | BadgeShape  |
                +-------------+
                 ^        ^
+---------------------+  +---------------------+
| CircleBadgeFactory  |  | SquareBadgeFactory  |
+---------------------+  +---------------------+</pre>
    </section>

    <section id="references" class="card">
      <h2>Referencias</h2>
      <ul>
        <li><a href="https://refactoring.guru/design-patterns/factory-method">Refactoring.Guru</a></li>
<li><a href="https://en.wikipedia.org/wiki/Factory_method_pattern">Wikipedia</a></li>
      </ul>
    </section>
      </div>
</main>
<script>
(function() {
  var currentLang = 'pt';
  var preferred = localStorage.getItem('patterns_lang');
  var alternate = 'tutorial.html';
  if (preferred && preferred !== currentLang) {
    window.location.replace(alternate);
    return;
  }
  var links = document.querySelectorAll('[data-lang]');
  links.forEach(function(link) {
    link.addEventListener('click', function() {
      localStorage.setItem('patterns_lang', link.getAttribute('data-lang'));
    });
  });
})();
</script>
</body>
</html>
